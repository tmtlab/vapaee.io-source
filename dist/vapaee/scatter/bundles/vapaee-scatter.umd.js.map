{"version":3,"file":"vapaee-scatter.umd.js.map","sources":["ng://@vapaee/scatter/lib/token.class.ts","ng://@vapaee/scatter/lib/asset.class.ts","ng://@vapaee/scatter/lib/contract.class.ts",null,"ng://@vapaee/scatter/lib/utils.class.ts","ng://@vapaee/scatter/lib/scatter.service.ts","ng://@vapaee/scatter/lib/scatter.module.ts"],"sourcesContent":["\n\nexport class Token {\n    private _str?: string;\n    private _symbol: string;\n    private _precision?: number;\n    private _contract?: string;\n\n    constructor(obj:any = null) {\n        this._symbol = \"AUX\";\n        this._precision = null;\n        this._contract = null;\n    \n        if (typeof obj == \"string\") {\n            this._symbol = obj;\n            console.assert(this.symbol.length > 0, \"ERROR: symbol not valid for token: \", this._symbol);\n            console.assert(this.symbol.length < 9, \"ERROR: symbol not valid for token: \", this._symbol);\n        }\n        \n        if (obj) {\n            if (obj instanceof Token) {\n                this._symbol = obj._symbol;\n                this._precision = obj._precision;\n                this._contract = obj._contract;\n            } else if (typeof obj == \"object\") {\n                this._symbol = obj.symbol || this._symbol;\n                this._precision = obj.precision || this._precision;\n                this._contract = obj.contract || this._contract;\n            }\n        }\n\n        this.toString();\n    }\n\n    get symbol() { return this._symbol; }\n    get precision() { return this._precision; }\n    get contract() { return this._contract; }\n\n    get str() {\n        if (this._str) return this._str;\n        this._str = this.symbol;\n        if (this._precision != null || this._contract != null) {\n            if (this._precision && this._contract) {\n                this._str += \" (\" + this._precision + \", \" + this._contract + \")\";\n            } else {\n                if (this._precision) {\n                    this._str += \" (\" + this._precision + \")\";\n                }\n                if (this._contract) {\n                    this._str += \" (\" + this._contract + \")\";\n                }  \n            }\n        }\n        return this._str;\n    }\n\n    toString() {\n        return this.str;\n    }\n\n}","import BigNumber from \"bignumber.js\";\nimport { Token } from \"./token.class\";\n\nexport class Asset {\n    amount:BigNumber;\n    token:Token;\n    \n    constructor(a: any = null, b: any = null) {\n        if (a == null && b == null) {\n            this.amount = new BigNumber(0);\n            this.token = new Token();\n            return;\n        }\n\n        if (a instanceof BigNumber) {\n            this.amount = a;\n            this.token = b;\n            return;\n        }\n\n        if (a instanceof Asset) {\n            this.amount = a.amount;\n            this.token = b;\n            return;\n        }\n\n        if (typeof a == \"number\") {\n            this.amount = new BigNumber(a);\n            this.token = b;\n            return;\n        }\n\n        if (typeof a == \"string\") {\n            this.parse(a);\n            console.assert(this.amount instanceof BigNumber, \"ERROR: Asset string malformed: '\"+a+\"'\");\n            return;\n        }\n    }\n\n    plus(b:Asset) {\n        console.assert(!!b, \"ERROR: b is not an Asset\", b, this.str);\n        console.assert(b.token.symbol == this.token.symbol, \"ERROR: trying to sum assets with different tokens: \" + this.str + \" and \" + b.str);\n        var amount = this.amount.plus(b.amount);\n        return new Asset(amount, this.token);\n    }\n\n    minus(b:Asset) {\n        console.assert(!!b, \"ERROR: b is not an Asset\", b, this.str);\n        console.assert(b.token.symbol == this.token.symbol, \"ERROR: trying to substract assets with different tokens: \" + this.str + \" and \" + b.str);\n        var amount = this.amount.minus(b.amount);\n        return new Asset(amount, this.token);\n    }\n\n    clone(): Asset {\n        return new Asset(this.amount, this.token);\n    }\n\n    parse(text: string) {\n        if (text == \"\") return;\n        var sym = text.split(\" \")[1];\n        var amount_str = text.split(\" \")[0];\n        this.amount = new BigNumber(amount_str);\n\n        var precision = 0;\n        if (amount_str.split(\".\").length == 2) {\n            precision = amount_str.split(\".\")[1].length;\n        } else if (amount_str.split(\".\").length == 1) {\n            if (isNaN(parseInt(amount_str))) {\n                console.error(\"ERROR: Asset malformed string: '\"+text+\"'\");\n            }\n        }\n        \n        this.token = new Token({\n            symbol: sym,\n            precision: precision\n        }); \n    }\n\n    valueToString(decimals:number = -1, total:boolean = false): string {\n        if (!this.token) return \"0\";\n        var parts = this.amount.toFixed().split(\".\");\n        var integer = parts[0];\n        var precision = this.token.precision;\n        var decimal = (parts.length==2 ? parts[1] : \"\");\n        if (decimals != -1) {\n            precision = decimals;\n        }\n        if (total) {\n            precision -= parts[0].length-1;\n            precision = precision > 0 ? precision : 0;\n        }\n        for (var i=decimal.length; i<precision; i++) {\n            decimal += \"0\";\n        }\n        if (decimal.length > precision) {\n            decimal = decimal.substr(0, precision);\n        }    \n\n        if (precision == 0) {\n            return integer;\n        } else {\n            return integer + \".\" + decimal;\n        }\n    }\n\n    toNumber() {\n        if (!this.token) return 0;\n        return parseFloat(this.valueToString(8));\n    }\n\n    get str () {\n        return this.toString();\n    }\n\n    toString(decimals:number = -1): string {\n        if (!this.token) return \"0.0000\";\n        return this.valueToString(decimals) + \" \" + this.token.symbol.toUpperCase();\n    }\n\n    inverse(token: Token): Asset {\n        var result = new BigNumber(1).dividedBy(this.amount);\n        var asset =  new Asset(result, token);\n        return asset;\n    }\n}","import { VapaeeScatter } from \"./scatter.service\";\n\n// ------------------\nexport interface TableParams {\n    contract?:string, \n    scope?:string, \n    table_key?:string, \n    lower_bound?:string, \n    upper_bound?:string, \n    limit?:number, \n    key_type?:string, \n    index_position?:string\n}\n\nexport interface TableResult {\n    more: boolean;\n    rows: any[];\n}\n\nexport class SmartContract {\n    contract: string;\n    scatter: VapaeeScatter;\n    \n    constructor(contract: string = \"\", scatter: VapaeeScatter = null) {\n        this.contract = contract;\n        this.scatter = scatter;\n    }    \n    /*\n    // eosjs2\n    excecute(action: string, params: any) {\n        console.log(\"Utils.excecute()\", action, [params]);\n        return new Promise<any>((resolve, reject) => {\n            try {\n                this.scatter.executeTransaction(this.contract, action, params).then(result => {\n                    resolve(result);\n                }).catch(err => {\n                    console.error(\"ERROR: \", err);\n                    reject(err);\n                });\n            } catch (err) { console.error(err); reject(err); }\n        }); // .catch(err => console.error(err) );\n    }\n    /*/\n    excecute(action: string, params: any) {\n        console.log(\"Utils.excecute()\", action, [params]);\n        return new Promise<any>((resolve, reject) => {\n            try {\n                this.scatter.getContractWrapper(this.contract).then(contract => {\n                    try {\n                        contract[action](params, this.scatter.authorization).then((response => {\n                            console.log(\"Utils.excecute() ---> \", [response]);\n                            resolve(response);\n                        })).catch(err => { reject(err); });\n                    } catch (err) { reject(err); }\n                }).catch(err => { reject(err); });\n            } catch (err) { reject(err); }\n        }); // .catch(err => console.error(err) );\n    }\n    //*/\n\n    getTable(table:string, params:TableParams = {}): Promise<TableResult> {\n\n        var _p = Object.assign({\n            contract: this.contract, \n            scope: this.contract, \n            table_key: \"0\", \n            lower_bound: \"0\", \n            upper_bound: \"-1\", \n            limit: 25, \n            key_type: \"i64\", \n            index_position: \"1\"\n        }, params);\n\n        return this.scatter.getTableRows(\n            _p.contract,\n            _p.scope, table,\n            _p.table_key,\n            _p.lower_bound,\n            _p.upper_bound,\n            _p.limit,\n            _p.key_type,\n            _p.index_position\n        );\n    }    \n    \n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import BigNumber from \"bignumber.js\";\nimport * as Long from 'long';\n\n\n// ------------------\nexport interface SlugId {\n    low?: string;\n    str?: string;\n    top?: string;\n}\nexport interface Work {\n    items: any[];\n    containers: any[];\n}\nexport interface Profile {\n    id?:string;\n    slugid: SlugId;\n    account: string;\n    containers?: any[],\n    work?: Work;\n}\n\nexport class ScatterUtils {\n    code_0:number;\n    code_1:number;\n    code_4:number;\n    code_9:number;\n    code_a:number;\n    code_f:number;\n    code_z:number;\n    \n    constructor() {\n        this.code_0 = \"0\".charCodeAt(0);\n        this.code_1 = \"1\".charCodeAt(0);\n        this.code_4 = \"4\".charCodeAt(0);\n        this.code_9 = \"9\".charCodeAt(0);\n        this.code_a = \"a\".charCodeAt(0);\n        this.code_f = \"f\".charCodeAt(0);        \n        this.code_z = \"z\".charCodeAt(0);        \n    }    \n\n    // this part is still experimental (init) -----------------\n    decodeNibble(nib:number) {\n        var nibble = [0,0,0,0];\n        var value = 0;\n        if (this.code_0 <= nib && nib <= this.code_9) {\n            value = nib - this.code_0;\n        } else if (this.code_a <= nib && nib <= this.code_f) {\n            value = nib - this.code_a + 10;\n        }\n        nibble[0] = (value & 8) > 0 ? 1 : 0;\n        nibble[1] = (value & 4) > 0 ? 1 : 0;\n        nibble[2] = (value & 2) > 0 ? 1 : 0;\n        nibble[3] = (value & 1) > 0 ? 1 : 0;\n        return nibble;\n    }\n\n    encodeNibble(index:number, bits:number[]) {\n        var value = 0;\n        value += bits[index + 0] == 1 ? 8 : 0;\n        value += bits[index + 1] == 1 ? 4 : 0;\n        value += bits[index + 2] == 1 ? 2 : 0;\n        value += bits[index + 3] == 1 ? 1 : 0;\n        if (0 <= value && value <= 9) {\n            return \"\" + value;\n        }\n        switch(value) {\n            case 10: return \"a\";\n            case 11: return \"b\";\n            case 12: return \"c\";\n            case 13: return \"d\";\n            case 14: return \"e\";\n            case 15: return \"f\";\n        }\n        return \"?\";\n    }\n\n    // _num is an hexa\n    decodeUint64(_num: string) {\n        var bits:number[] = [];\n        var num:string = _num.substr(2);\n        for (var i=0; i<num.length; i++) {\n            bits = bits.concat(this.decodeNibble(num.charCodeAt(i)));\n        }\n        return bits;\n    }\n\n    encodeUnit64(bits:number[]) {\n        var slugid:SlugId = {top:\"0x\",low:\"0x\"};\n        var str = \"top\";\n        for (var i=0; i<bits.length; i+=4) {\n            if (i>=128) str = \"low\";\n            slugid[str] += this.encodeNibble(i, bits);\n        }\n        return slugid;\n    }\n\n    extractLength(bits:number[]) {\n        if(bits.length != 256) console.error(\"ERROR: extractLength(bits) bits must be an array of 256 bits\");\n        return bits[250] * 32 + bits[251] * 16 + bits[252] * 8 + bits[253] * 4 + bits[254] * 2 + bits[255] * 1;\n    }\n\n    insertLength(bits:number[], length: number) {\n        if(bits.length != 256) console.error(\"ERROR: extractLength(bits) bits must be an array of 256 bits\");\n        bits[250] = (length & 32) ? 1 : 0;\n        bits[251] = (length & 16) ? 1 : 0;\n        bits[252] = (length &  8) ? 1 : 0;\n        bits[253] = (length &  4) ? 1 : 0;\n        bits[254] = (length &  2) ? 1 : 0;\n        bits[255] = (length &  1) ? 1 : 0;\n    }\n\n    valueToChar(v:number) {\n        if (v == 0) return '.';\n        if (v == 1) return '-';\n        if (v < 6) return String.fromCharCode(v + this.code_0 - 1);\n        if (v < 32) return String.fromCharCode(v + this.code_a - 6);\n        console.assert(false, \"ERROR: value out of range [0-31]\", v);\n        return '?';                   \n    }\n\n    charToValue(c:string) {\n        console.assert(c.length == 1, \"ERROR: c MUST be a character (string with length == 1). Got\", typeof c, c);\n        if (c == \".\") return 0;\n        if (c == \"-\") return 1;\n        if (this.code_0 < c.charCodeAt(0) && c.charCodeAt(0) <= this.code_4) return c.charCodeAt(0) - this.code_1 + 2;\n        if (this.code_a <= c.charCodeAt(0) && c.charCodeAt(0) <= this.code_z) return c.charCodeAt(0) - this.code_a + 6;\n        console.assert(false, \"ERROR: character '\" + c + \"' is not in allowed character set for slugid \");\n        return -1;\n    }\n\n    extractChar(c:number, bits:number[]) {\n        var encode = 5;\n        var pot = Math.pow(2, encode-1); // 16\n        var value = 0;\n        var index = c * encode;\n        for (var i=0; i<encode; i++, pot = pot/2) {\n            value += bits[index + i] * pot;\n        }\n        var char = this.valueToChar(value);\n        return char;\n    }\n\n    insertChar(value:number, j:number, bits:number[]) {\n        var encode = 5;\n        var index = j * encode;\n        bits[index + 0] = (value & 16) > 0 ? 1 : 0;\n        bits[index + 1] = (value &  8) > 0 ? 1 : 0;\n        bits[index + 2] = (value &  4) > 0 ? 1 : 0;\n        bits[index + 3] = (value &  2) > 0 ? 1 : 0;            \n        bits[index + 4] = (value &  1) > 0 ? 1 : 0;\n    }\n\n    decodeSlug(sluig:SlugId) {\n        // decodeSlug() 0x41ae9c04d34873482a78000000000000 0x00000000000000000000000000000010\n        // console.log(\"decodeSlug()\", nick.top, nick.low);\n        var bits:number[] = [];\n        bits = this.decodeUint64(sluig.top).concat(this.decodeUint64(sluig.low));\n        var length = bits[250] * 32 + bits[251] * 16 + bits[252] * 8 + bits[253] * 4 + bits[254] * 2 + bits[255] * 1;\n        // console.log(\"length: \", length);\n        var str:string = \"\";\n        for (var i=0; i<length; i++) {\n            str += this.extractChar(i, bits);\n        }\n        // console.log(\"str: \", str);\n        sluig.str = str;\n        return sluig;\n    }\n\n    encodeSlug(name:string):SlugId {\n        var bits = [];\n        for (var i=0; i<256; i++) {\n            bits.push(0);\n        }\n        for (var i=0; i<name.length; i++) {\n            var value = this.charToValue(name[i]);\n            this.insertChar(value, i, bits);\n        }\n        this.insertLength(bits, name.length);\n        var slug = this.encodeUnit64(bits);\n\n        slug = this.decodeSlug(slug);\n        console.assert(slug.str == name, \"ERROR: slug.str: \", slug.str, [slug.str], [name]);\n\n        return slug;\n    }\n\n    slugTo128bits(slug:SlugId):string {\n        var str = \"0x\";\n        var topbits = this.decodeUint64(slug.top);\n        var lowbits = this.decodeUint64(slug.low);\n        var mixbits = [];\n        for (var i=0; i<topbits.length; i++) {\n            mixbits.push(topbits[i] ^ lowbits[i] ? 1 : 0);\n        }\n        for (var i=0; i<mixbits.length; i+=4) {\n            str += this.encodeNibble(i, mixbits);\n        }        \n        return str;\n    }\n    // (end) ---------------------------------------------------\n\n    // OLD eosjs encodeName solution ------------------------------------------------------\n    charmap = '.12345abcdefghijklmnopqrstuvwxyz';\n    charidx = ch => {\n        const idx = this.charmap.indexOf(ch)\n        if(idx === -1)\n          throw new TypeError(`Invalid character: '${ch}'`)\n      \n        return idx;\n    }\n    oldEosjsEncodeName(name, littleEndian = false) {\n        if(typeof name !== 'string')\n          throw new TypeError('name parameter is a required string')\n      \n        if(name.length > 12)\n          throw new TypeError('A name can be up to 12 characters long')\n      \n        let bitstr = ''\n        for(let i = 0; i <= 12; i++) { // process all 64 bits (even if name is short)\n          const c = i < name.length ? this.charidx(name[i]) : 0\n          const bitlen = i < 12 ? 5 : 4\n          let bits = Number(c).toString(2)\n          if(bits.length > bitlen) {\n            throw new TypeError('Invalid name ' + name)\n          }\n          bits = '0'.repeat(bitlen - bits.length) + bits\n          bitstr += bits\n        }\n      \n        const value = Long.fromString(bitstr, true, 2)\n      \n        // convert to LITTLE_ENDIAN\n        let leHex = ''\n        const bytes = littleEndian ? value.toBytesLE() : value.toBytesBE()\n        for(const b of bytes) {\n          const n = Number(b).toString(16)\n          leHex += (n.length === 1 ? '0' : '') + n\n        }\n      \n        const ulName = Long.fromString(leHex, true, 16).toString()\n      \n        // console.log('encodeName', name, value.toString(), ulName.toString(), JSON.stringify(bitstr.split(/(.....)/).slice(1)))\n        \n        return ulName.toString()\n    }\n    // -------------------------------------------------------\n\n    encodeName(name:string):BigNumber {\n        /*\n        const buffer: Serialize.SerialBuffer = new Serialize.SerialBuffer();\n        buffer.pushName(name);\n        var number = buffer.getUint64AsNumber();\n        */\n        var number = this.oldEosjsEncodeName(name);\n        return new BigNumber(number);\n    }\n\n}","import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n// import { EosioTokenMathService } from './eosio.token-math.service';\nimport { Feedback } from '@vapaee/feedback';\n\n// scatter libraries\n/*/\n// eosjs2\nimport ScatterJS from '@scatterjs/core';\nimport ScatterEOS from '@scatterjs/eosjs2';\nimport ScatterLynx from '@scatterjs/lynx';\nimport {JsonRpc, Api} from 'eosjs';\n/*/\nimport ScatterJS from 'scatterjs-core';\nimport ScatterEOS from 'scatterjs-plugin-eosjs'\nimport Eos from 'eosjs';\nimport { Asset } from './asset.class';\nimport { SmartContract } from './contract.class';\nimport { ScatterUtils } from './utils.class';\n//*/\n\n// declare var ScatterJS:any;\n\n// eosjs / eosjs2\nexport interface RPC {\n    endpoint: string;\n    fetchBuiltin: Function;\n    fetch: Function;\n    get_abi: Function;\n    get_account: Function;\n    get_block_header_state: Function;\n    get_block: Function;\n    get_code: Function;\n    get_currency_balance: Function;\n    get_currency_stats: Function;\n    get_info: Function;\n    get_producer_schedule: Function;\n    get_producers: Function;\n    get_raw_code_and_abi: Function;\n    getRawAbi: Function;\n    get_table_rows: Function;\n    getRequiredKeys: Function;\n    push_transaction: Function;\n    db_size_get: Function;\n    history_get_actions: Function;\n    history_get_transaction: Function;\n    history_get_key_accounts: Function;\n    history_get_controlled_accounts: Function;    \n}\n\n/*\n// eosjs2\nexport interface EOS {\n    contracts: Function;\n    cachedAbis: Function;\n    rpc: Function;\n    authorityProvider: Function;\n    abiProvider: Function;\n    signatureProvider: Function;\n    chainId: Function;\n    textEncoder: Function;\n    textDecoder: Function;\n    abiTypes: Function;\n    transactionTypes: Function;\n    rawAbiToJson: Function;\n    getCachedAbi: Function;\n    getAbi: Function;\n    getTransactionAbis: Function;\n    getContract: Function;\n    serialize: Function;\n    deserialize: Function;\n    serializeTransaction: Function;\n    deserializeTransaction: Function;\n    serializeActions: Function;\n    deserializeActions: Function;\n    deserializeTransactionWithActions: Function;\n    transact: Function;\n    pushSignedTransaction: Function;\n    hasRequiredTaposFields: Function;    \n}\n/*/\n// eosjs\nexport interface EOS {\n    getInfo:Function,\n    getAccount:Function,\n    getCode:Function,\n    getCodeHash:Function,\n    getAbi:Function,\n    getRawCodeAndAbi:Function,\n    abiJsonToBin:Function,\n    abiBinToJson:Function,\n    getRequiredKeys:Function,\n    getBlock:Function,\n    getBlockHeaderState:Function,\n    getTableRows:Function,\n    getCurrencyBalance:Function,\n    getCurrencyStats:Function,\n    getProducers:Function,\n    getProducerSchedule:Function,\n    getScheduledTransactions:Function,\n    pushBlock:Function,\n    pushTransaction:Function,\n    pushTransactions:Function,\n    getActions:Function,\n    getTransaction:Function,\n    getKeyAccounts:Function,\n    getControlledAccounts:Function,\n    createTransaction:Function,\n    transaction:Function,\n    nonce:Function,\n    transfer:Function,\n    create:Function,\n    issue:Function,\n    bidname:Function,\n    newaccount:Function,\n    setcode:Function,\n    setabi:Function,\n    updateauth:Function,\n    deleteauth:Function,\n    linkauth:Function,\n    unlinkauth:Function,\n    canceldelay:Function,\n    onerror:Function,\n    buyrambytes:Function,\n    sellram:Function,\n    buyram:Function,\n    delegatebw:Function,\n    undelegatebw:Function,\n    refund:Function,\n    regproducer:Function,\n    unregprod:Function,\n    setram:Function,\n    regproxy:Function,\n    voteproducer:Function,\n    claimrewards:Function,\n    setpriv:Function,\n    rmvproducer:Function,\n    setalimits:Function,\n    setglimits:Function,\n    setprods:Function,\n    reqauth:Function,\n    setparams:Function,\n    contract:Function\n}\n//*/\n\nexport interface Scatter {\n    identity: any,\n    eosHook: Function;\n    eos?:Function,\n    network: any;\n    // -----------------\n    \n    forgotten?:boolean, // was forgetIdentity executed?\n    \n    isExtension: boolean,\n    // -----------------\n    authenticate: Function,\n    connect: Function,\n    constructor: Function,\n    createTransaction: Function,\n    disconnect: Function,\n    forgetIdentity: Function,\n    getArbitrarySignature: Function,\n    getIdentity: Function,\n    getIdentityFromPermissions: Function,\n    getPublicKey: Function,\n    getVersion: Function,\n    hasAccountFor: Function,\n    isConnected: Function,\n    isPaired: Function,\n    linkAccount: Function,\n    loadPlugin: Function,\n    requestSignature: Function,\n    requestTransfer: Function,\n    suggestNetwork: Function\n}\n\nexport interface AccountData {\n    account_name?: string,\n    head_block_num?: number,\n    head_block_time?: string,\n    privileged?: false,\n    last_code_update?: string,\n    created?: string,\n    core_liquid_balance?: string,\n    core_liquid_balance_asset?: Asset,\n    ram_quota?: number,\n    net_weight?: number,\n    cpu_weight?: number,\n    total_balance: string,\n    total_balance_asset: Asset,\n    ram_limit?: {\n        percentStr?: string,\n        used?: number,\n        available?: number,\n        max?: number\n    },\n    net_limit?: {\n        percentStr?: string,\n        used?: number,\n        available?: number,\n        max?: number\n    },\n    cpu_limit?: {\n        percentStr?: string,\n        used?: number,\n        available?: number,\n        max?: number\n    },\n    ram_usage?: number,\n    permissions?: {\n        perm_name?: string,\n        parent?: string,\n        required_auth?: {\n            threshold?: 1,\n            keys?: {\n                key?: string,\n                weight?: 1\n            }[],\n            accounts?: any[],\n            waits?: any[]\n        }\n    }[],\n    total_resources?: {\n        owner?: string,\n        net_weight?: string,\n        net_weight_asset?: Asset,\n        cpu_weight?: string,\n        cpu_weight_asset?: Asset,\n        ram_bytes?: number\n    },\n    self_delegated_bandwidth?: {\n        from?: string,\n        to?: string,\n        total?: string,\n        total_asset?: Asset,\n        net_weight?: string,\n        net_weight_asset?: Asset,\n        cpu_weight?: string,\n        cpu_weight_asset?: Asset,\n    },\n    refund_request?: {\n        owner?: string,\n        request_time?: string,\n        total?: string,\n        total_asset?: Asset,\n        net_amount?: string,\n        net_amount_asset?: Asset,\n        cpu_amount?: string,\n        cpu_amount_asset?: Asset\n    },\n    voter_info?: {\n        owner?: string,\n        proxy?: string,\n        producers?: string[],\n        staked?: number,\n        last_vote_weight?: string,\n        proxied_vote_weight?: string,\n        is_proxy?: number\n    },\n    returnedFields?: null\n}\n\nexport interface Account {\n    authority?: string,\n    blockchain?: string,\n    name: string,\n    publicKey?: string,\n    data?: AccountData\n}\n\nexport interface Endpoint {\n    protocol:string,\n    host:string,\n    port:number\n}\n\nexport interface Eosconf {\n    blockchain:string,\n    protocol:string,\n    host:string,\n    port:number,\n    chainId:string\n}\n\nexport interface Network {\n    slug?: string,\n    index?: number,\n    eosconf?: Eosconf,\n    explorer?: string,\n    symbol: string,\n    name: string,\n    chainId:string,\n    endpoints: Endpoint[]\n}\n\nexport interface NetworkMap {\n    [key:string]:Network\n};\n\nexport interface ScatterJSDef {\n    plugins?:any,\n    scatter?:any\n}\n\n\n@Injectable({\n    providedIn: \"root\"\n})\nexport class VapaeeScatter {\n    \n    private scatterutils = new ScatterUtils();\n    public error: string;\n    private appTitle: string;\n    private symbol: string;\n    private _connected: boolean;\n    private lib: Scatter;\n    private rpc: RPC; // eosjs2\n    public feed: Feedback;\n    private ScatterJS: ScatterJSDef;\n    private _network: Network;\n    private _networks: NetworkMap;\n    private _networks_slugs: string[];\n    private _account_queries: {[key:string]:Promise<AccountData>};\n    private eos: EOS;\n    public onNetworkChange:Subject<Network> = new Subject();\n    public onLogggedStateChange:Subject<boolean> = new Subject();\n    public _account: Account;\n    private setReady: Function;\n    public waitReady: Promise<any> = new Promise((resolve) => {\n        this.setReady = resolve;\n    });\n    private setLogged: Function;\n    public waitLogged: Promise<any> = new Promise((resolve) => {\n        this.setLogged = resolve;\n    });\n    private setConnected: Function;\n    public waitConnected: Promise<any> = new Promise((resolve) => {\n        this.setConnected = resolve;\n    });\n    private setEosjs: Function;\n    public waitEosjs: Promise<any> = new Promise((resolve) => {\n        this.setEosjs = resolve;\n    });\n    private setEndpointsReady: Function;\n    public waitEndpoints: Promise<any> = new Promise((resolve) => {\n        this.setEndpointsReady = resolve;\n    });    \n    \n    constructor(\n    ) {\n        this.feed = new Feedback();\n        this._networks_slugs = [];\n        this._networks = {};\n        this._network = {\n            \"name\": \"EOS MainNet\",\n            \"symbol\": \"EOS\",\n            \"explorer\": \"https://www.bloks.io\",\n            \"chainId\":\"aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906\",\n            \"endpoints\": [{\n                \"protocol\":\"https\",\n                \"host\":\"nodes.get-scatter.com\",\n                \"port\":443\n            }]\n        };\n        \n        this.symbol = \"EOS\";\n        // this.waitReady.then(() => console.log(\"ScatterService.setReady()\"));\n        // console.error(\"scatter interrumpido --------------------------------\");\n        \n        this._account_queries = {};\n    }\n\n    get utils() {\n        return this.scatterutils;\n    }\n\n    // Acount, Identity and authentication -----------------\n    get account(): Account {\n        if (!this._account || !this._account.name) {\n            if (this.lib && this.lib.identity && this.lib.identity.accounts) {\n                this._account = this.lib.identity.accounts.find(x => x.blockchain === \"eos\" || x.blockchain === \"tlos\");\n            }            \n        }        \n        return this._account;\n    }\n\n    get default(): Account {\n        // default data before loading data\n        // TODO: fill out with better default data.\n        return {\n            name:'guest',\n            data: {\n                total_balance: \"\",\n                total_balance_asset: new Asset(),\n                cpu_limit: {},\n                net_limit: {},\n                ram_limit: {},\n                refund_request: {},\n                total_resources: {}\n            }\n        }\n    }\n\n    resetIdentity() {\n        console.log(\"ScatterService.resetIdentity()\");\n        this.error = \"\";\n        if (this.lib) {\n            this.lib.identity = null;\n            if (!this.lib.forgotten) {\n                this.lib.forgotten = true;\n                this.lib.forgetIdentity();\n            }\n        }\n        this.onLogggedStateChange.next(true);\n    }\n\n    private setIdentity(identity:any) {\n        console.log(\"ScatterService.setIdentity()\", [identity]);\n        console.assert(!!this.lib, \"ERROR: no instance of scatter found\");\n        this.error = \"\";\n        this.lib.identity = identity;\n        this.lib.forgotten = false;\n        this._account = this.lib.identity.accounts.find(x => x.blockchain === \"eos\" || x.blockchain === \"tlos\");\n        if (!this.account) {\n            console.error(\"ScatterService.setIdentity()\", [identity]);\n        }\n        // console.log(\"ScatterService.setIdentity() -> ScatterService.queryAccountData() : \" , [this.account.name]);\n        this.queryAccountData(this.account.name).then(account => {\n            this.account.data = account;\n            this.onLogggedStateChange.next(true);\n        }).catch(_ => {\n            this.account.data = this.default.data;\n            this.onLogggedStateChange.next(true);\n        });\n    }    \n\n    // ----------------------------------------------------------\n    // Networks (eosio blockchains) & Endpoints -----------------\n    public setEndpoints(endpoints: NetworkMap) {\n        this._networks = endpoints || this._networks;\n        for (var i in this._networks) {\n            this._networks_slugs.push(i);\n        }\n        this.setEndpointsReady();\n    }\n\n    setNetwork(name:string, index: number = 0) {\n        console.log(\"ScatterService.setNetwork(\"+name+\",\"+index+\")\");\n        return this.waitEndpoints.then(() => {\n            var n = this.getNetwork(name, index);\n            if (n) {\n                if (this._network.name != n.name) {\n                    this._network = n;\n                    this.resetIdentity();\n                    this.initScatter();\n                    this.onNetworkChange.next(this.getNetwork(name));\n                }\n            } else {\n                console.error(\"ERROR: Scatter.setNetwork() unknown network name-index. Got (\"\n                    + name + \", \" + index + \"). Availables are:\", this._networks);\n                console.error(\"Falling back to eos mainnet\");\n                return this.setNetwork(\"eos\");\n            }    \n        });\n    }\n\n    getNetwork(slug:string, index: number = 0): Network {\n        if (this._networks[slug]) {\n            if (this._networks[slug].endpoints.length > index && index >= 0) {\n                var network: Network = this._networks[slug];\n                var endpoint:Endpoint = network.endpoints[index];\n                network.slug = slug;\n                network.index = index;\n                network.eosconf = {\n                    blockchain: \"eos\",\n                    chainId: network.chainId,\n                    host: endpoint.host,\n                    port: endpoint.port,\n                    protocol: endpoint.protocol,\n                }                \n                return network;\n            } else {\n                console.error(\"ERROR: Scatter.getNetwork() index out of range. Got \"\n                    + index + \" expected number between [0..\"+this._networks[slug].endpoints.length+\"]\", );\n            }            \n        } else {\n            console.error(\"ERROR: Scatter.getNetwork() unknown network slug. Got \"\n                + slug + \" expected one of\", this.networks);\n        }\n        return null;\n    }\n\n    get networks(){\n        return this._networks_slugs;\n    }\n\n    get network(): Network {\n        return this._network;\n    }\n\n    private resetPromises() {\n        console.error(\"ScatterService.resetPromises()\");\n        this.waitEosjs.then(r => {\n            this.waitEosjs = null;\n            var p = new Promise((resolve) => {\n                if (this.waitEosjs) return;\n                this.waitEosjs = p;\n                this.setEosjs = resolve;\n                this.resetPromises();\n            });\n        });\n        this.waitConnected.then(r => {\n            this.waitConnected = null;\n            var p = new Promise((resolve) => {\n                if (this.waitConnected) return;\n                this.waitConnected = p;\n                this.setConnected = resolve;\n                this.resetPromises();\n            });\n        });\n        this.waitReady.then(r => {\n            this.waitReady = null;\n            var p = new Promise((resolve) => {\n                if (this.waitReady) return;\n                this.waitReady = p;\n                this.setReady = resolve;\n                this.resetPromises();\n                //this.waitReady.then(() => console.log(\"ScatterService.setReady()\"));                \n            });\n        });\n        this.waitLogged.then(r => {\n            this.waitLogged = null;\n            var p = new Promise((resolve) => {\n                if (this.waitLogged) return;\n                this.waitLogged = p;\n                this.setLogged = resolve;\n                this.resetPromises();\n            });\n        });\n    }\n\n    // ----------------------------------------------------------\n    // Scatter initialization and AppConnection -----------------\n    initScatter() {\n        console.log(\"ScatterService.initScatter()\");\n        /*/\n        // eosjs2\n        this.error = \"\";\n        if ((<any>window).ScatterJS) {\n            this.ScatterJS = (<any>window).ScatterJS;\n            (<any>window).ScatterJS = null;\n        }\n\n        try {\n            ScatterJS.plugins( new ScatterEOS() );\n        } catch (e) {\n            console.error(\"ERROR:\", e.message, [e]);\n            console.error(\"Falling back to normal ScatterEOS plugin\");\n            ScatterJS.plugins( new ScatterEOS() );\n        }\n         \n        this.lib = ScatterJS.scatter;\n\n        const network = ScatterJS.Network.fromJson(this.network.eosconf);\n        this.rpc = new JsonRpc(network.fullhost());\n        this.eos = this.lib.eos(network, Api, {rpc:this.rpc});\n\n        this.setEosjs(\"eosjs\");\n        /*/\n        // eosjs\n        console.log(\"ScatterService.initScatter()\");\n        this.error = \"\";\n        if ((<any>window).ScatterJS) {\n            this.ScatterJS = (<any>window).ScatterJS;\n            this.ScatterJS.plugins( new ScatterEOS() );\n            this.lib = this.ScatterJS.scatter;  \n            (<any>window).ScatterJS = null;\n        }\n        console.log(\"EOSJS()\",[this.network.eosconf]);\n        this.eos = this.lib.eos(this.network.eosconf, Eos, { expireInSeconds:60 });\n        this.setEosjs(\"eosjs\");\n        //*/\n    }\n\n    reconnectTimer;\n    reconnectTime = 100;\n    retryConnectingApp() {\n        clearInterval(this.reconnectTimer);\n        this.reconnectTimer = setInterval(_ => {\n            // console.log(\"ScatterService.reconnectTimer()\");\n            if (this._connected) {\n                // console.error(\"ScatterService.retryConnectingApp() limpio el intervalo\");\n                clearInterval(this.reconnectTimer);\n            } else {\n                if (this.account) {\n                    // console.error(\"ScatterService.retryConnectingApp()  existe account pero no estÃ¡ conectado\");\n                    this.connectApp();\n                }\n            }\n        },this.reconnectTime);\n        this.reconnectTime += 1000*Math.random();\n        if (this.reconnectTime > 4000) this.reconnectTime = 4000;\n    }\n\n    connectApp(appTitle:string = \"\") {\n        // this.connect_count++;\n        // var resolve_num = this.connect_count;\n        this.feed.setLoading(\"connect\", true);\n        if (appTitle != \"\") this.appTitle = appTitle;\n        console.log(`ScatterService.connectApp(${this.appTitle})`);\n        const connectionOptions = {initTimeout:1800}\n        if (this._connected) return Promise.resolve(); // <---- avoids a loop\n        var promise = new Promise<any>((resolve, reject) => {\n            this.waitConnected.then(resolve);\n            if (this._connected) return; // <---- avoids a loop\n            this.waitEosjs.then(() => {\n                console.log(\"ScatterService.waitEosjs() eos OK\");\n                this.lib.connect(this.appTitle, connectionOptions).then(connected => {\n                    // si estÃ¡ logueado this.lib.identity se carga sÃ³lo y ya estÃ¡ disponible\n                    console.log(\"ScatterService.lib.connect()\", connected);\n                    this._connected = connected;\n                    if(!connected) {\n                        this.feed.setError(\"connect\", \"ERROR: can not connect to Scatter. Is it up and running?\");\n                        console.error(this.feed.error(\"connect\"));\n                        reject(this.feed.error(\"connect\"));\n                        this.feed.setLoading(\"connect\", false);\n                        this.retryConnectingApp();\n                        return false;\n                    }\n                    // Get a proxy reference to eosjs which you can use to sign transactions with a user's Scatter.\n                    console.log(\"ScatterService.setConnected()\");\n                    this.setConnected(\"connected\");\n                    this.feed.setLoading(\"connect\", false);\n                    if (this.logged) {\n                        this.login().then(() => {\n                            console.log(\"ScatterService.setReady()\");\n                            this.setReady(\"ready\");\n                        }).catch(reject);\n                    } else {\n                        console.log(\"ScatterService.setReady()\");\n                        this.setReady(\"ready\");\n                    }\n                }).catch(e => {\n                    console.error(e);\n                    this.feed.setLoading(\"connect\", false);\n                    throw e;\n                });    \n            });    \n        });\n        return promise;\n    }\n\n\n    // ----------------------------------------------------------\n    // AccountData and Balances ---------------------------------\n    calculateTotalBalance(account) {\n        return new Asset(\"0.0000 \" + this.symbol)\n            .plus(account.core_liquid_balance_asset)\n            .plus(account.refund_request.net_amount_asset)\n            .plus(account.refund_request.cpu_amount_asset)\n            .plus(account.self_delegated_bandwidth.cpu_weight_asset)\n            .plus(account.self_delegated_bandwidth.net_weight_asset);\n    }\n\n    calculateResourceLimit(limit) {\n        limit = Object.assign({\n            max: 0, used: 0\n        }, limit);\n        \n        if (limit.max != 0) {\n            limit.percent = 1 - (Math.min(limit.used, limit.max) / limit.max);\n        } else {\n            limit.percent = 0;\n        }\n        limit.percentStr = Math.round(limit.percent*100) + \"%\";\n        return limit;\n    }\n\n    queryAccountData(name:string): Promise<AccountData> {\n        /*\n        // get_table_rows\n            code: \"eosio\"\n            index_position: 1\n            json: true\n            key_type: \"i64\"\n            limit: -1\n            lower_bound: null\n            scope: \"gqydoobuhege\"\n            table: \"delband\"\n            table_key: \"\"\n        */\n        console.log(\"ScatterService.queryAccountData(\"+name+\") \");\n        this._account_queries[name] = this._account_queries[name] || new Promise<AccountData>((resolve, reject) => {\n            // console.log(\"PASO 1 ------\", [this._account_queries])\n            this.waitEosjs.then(() => {\n                // console.log(\"PASO 2 (eosjs) ------\");\n                \n                /*\n                // eosjs2\n                this.rpc.get_account(name).\n                /*/\n                // eosjs\n                this.eos.getAccount({account_name: name}).\n                //*/\n                \n                then((response) => {\n                    // console.log(\"PASO 3 (eosjs.getAccount) ------\", response);\n                    var account_data: AccountData = <AccountData>response;\n\n                    if (account_data.core_liquid_balance) {\n                        this.symbol = account_data.core_liquid_balance.split(\" \")[1];\n                    } else {\n                        account_data.core_liquid_balance = \"0.0000 \" + this.symbol;\n                    }\n                    account_data.core_liquid_balance_asset = new Asset(account_data.core_liquid_balance);\n                    \n\n                    // ----- refund_request -----\n                    account_data.refund_request = account_data.refund_request || {\n                        total: \"0.0000 \" + this.symbol,\n                        net_amount: \"0.0000 \" + this.symbol,\n                        cpu_amount: \"0.0000 \" + this.symbol,\n                        request_time: \"2018-11-18T18:09:53\"\n                    }\n                    account_data.refund_request.cpu_amount_asset = new Asset(account_data.refund_request.cpu_amount);\n                    account_data.refund_request.net_amount_asset = new Asset(account_data.refund_request.net_amount);\n                    account_data.refund_request.total_asset = \n                        account_data.refund_request.cpu_amount_asset.plus(account_data.refund_request.net_amount_asset)\n                    account_data.refund_request.total = account_data.refund_request.total_asset.toString();\n                        \n                    // ----- self_delegated_bandwidth ----\n                    account_data.self_delegated_bandwidth = account_data.self_delegated_bandwidth || {\n                        total: \"0.0000 \" + this.symbol,\n                        net_weight: \"0.0000 \" + this.symbol,\n                        cpu_weight: \"0.0000 \" + this.symbol\n                    }                    \n                    account_data.self_delegated_bandwidth.net_weight_asset = new Asset(account_data.self_delegated_bandwidth.net_weight);\n                    account_data.self_delegated_bandwidth.cpu_weight_asset = new Asset(account_data.self_delegated_bandwidth.cpu_weight);\n                    account_data.self_delegated_bandwidth.total_asset = \n                        account_data.self_delegated_bandwidth.cpu_weight_asset.plus(account_data.self_delegated_bandwidth.net_weight_asset);\n                    account_data.self_delegated_bandwidth.total = account_data.self_delegated_bandwidth.total_asset.toString();\n                    \n\n                    // ----- total_resources -----\n                    account_data.total_resources = account_data.total_resources || {\n                        net_weight: \"0.0000 \" + this.symbol,\n                        cpu_weight: \"0.0000 \" + this.symbol\n                    }\n                    account_data.total_resources.net_weight_asset = new Asset(account_data.total_resources.net_weight);\n                    account_data.total_resources.cpu_weight_asset = new Asset(account_data.total_resources.cpu_weight);\n\n                    account_data.total_balance_asset = this.calculateTotalBalance(account_data);\n                    account_data.total_balance = account_data.total_balance_asset.toString();\n\n                    account_data.cpu_limit = this.calculateResourceLimit(account_data.cpu_limit);\n                    account_data.net_limit = this.calculateResourceLimit(account_data.net_limit);\n                    account_data.ram_limit = this.calculateResourceLimit({\n                        max: account_data.ram_quota, used: account_data.ram_usage\n                    });\n\n\n                    // console.log(\"-------------------------------\");\n                    // console.log(\"account_data: \", account_data);\n                    // console.log(\"-------------------------------\");\n\n                    resolve(account_data);\n                }).catch((err) => {\n                    reject(err);\n                });\n                \n            }).catch((error) => {\n                console.error(error);\n                reject(error);\n            });\n        });\n\n        var promise = this._account_queries[name];\n        promise.then((r) => {\n            setTimeout(() => {\n                delete this._account_queries[r.account_name];\n            });\n        });\n        \n        return promise;\n    }\n\n    /*\n    // eosjs2\n    async executeTransaction(contract:string, action:string, data:any) {\n        return new Promise((resolve, reject) => {\n            this.login().then(_ => {\n                this.waitReady.then(() => {\n                    \n                    this.eos.transact(\n                        {\n                            actions: [{\n                                account: contract,\n                                name: action,\n                                data: data,\n                                authorization: [{\n                                    actor: this.account.name,\n                                    permission: this.account.authority\n                                }],                            \n                            }]\n                        },\n                        {\n                            blocksBehind: 3,\n                            expireSeconds: 30\n                        }                        \n                    ).then(result => {\n                        console.log(\"EXITO !!!!\", result);\n                        resolve(result);\n                    }).catch((error) => {\n                        console.error(\"ERROR !!!!\", error);\n                        reject(error);\n                    }); \n\n\n                });\n            }).catch((error) => {\n                console.error(error);\n                reject(error);\n            });   \n        }); \n    }\n    */\n\n\n    /*\n    \n    {\n        actions: [{\n            account: this.contractAccount,\n            name: action,\n            authorization: [{\n                actor: this.account.name,\n                permission: this.account.authority\n            }],\n            data: {\n              ...data\n            }\n        }]\n    },\n    {\n        blocksBehind: 3,\n        expireSeconds: 30\n    }    \n    */\n\n    getSmartContract(account_name) {\n        return new SmartContract(account_name, this);\n    }\n    \n    getContractWrapper(account_name): Promise<any> {\n        console.log(`ScatterService.getContract(${account_name})`);\n        return new Promise((resolve, reject) => {\n            this.login().then((a) => {\n                console.log(\"this.login().then((a) => { -->\", a );\n                this.waitReady.then(() => {\n                    \n                    this.eos.contract(account_name).then(contract => {\n                        console.log(`-- contract ${account_name} --`);\n                        for (var i in contract) {\n                            if(typeof contract[i] == \"function\") console.log(\"contract.\"+i+\"()\", [contract[i]]);\n                        }\n                        resolve(contract);\n                    }).catch(error => {\n                        console.error(error);\n                    });\n                    \n                });\n            }).catch((error) => {\n                console.error(error);\n                reject(error);\n            });   \n        }); \n    }\n    \n\n    /*\n    transfer(from:string, to:string, amount:string, memo:string) {\n        console.log(\"ScatterService.transfer()\", from, to, amount, memo);\n        return new Promise((resolve, reject) => {\n            this.waitEosjs.then(() => {\n                console.log(\"Scatter.transfer():\", from, to, amount, memo, this.authorization);\n                \n                this.eos.transfer(from, to, amount, memo, this.authorization).then(trx => {\n                    // That's it!\n                    console.log(`Transaction ID: ${trx.transaction_id}`, trx);\n                    // en Notas estÃ¡ el json que describe el objeto trx\n                    resolve(trx);\n                }).catch(error => {\n                    console.error(error);\n                });\n                \n            }).catch((error) => {\n                console.error(error);\n                reject(error);\n            });   \n        });\n    }\n    */\n\n    // loginTimer;\n    login() {\n        console.log(\"ScatterService.login()\");\n        this.feed.setLoading(\"login\", true);\n        return new Promise<any>((resolve, reject) => {\n            if (this.lib.identity) {\n                this.setIdentity(this.lib.identity);\n                resolve(this.lib.identity);\n            } else {\n                var loginTimer = setTimeout( _ => {\n                    this.feed.setLoading(\"login\", false);\n                    reject(\"connection timeout\");\n                }, 5000);\n                this.connectApp().then(() => {\n                    this.lib.getIdentity({\"accounts\":[this.network.eosconf]})\n                        .then( (identity)  => {\n                            clearTimeout(loginTimer);\n                            this.setIdentity(identity);\n                            this.setLogged();\n                            this.feed.setLoading(\"login\", false);\n                            resolve(identity);                            \n                        })\n                        .catch(reject);\n                }).catch(reject);    \n            }\n        });\n    }\n\n    logout() {\n        console.log(\"ScatterService.logout()\");\n        this.feed.setLoading(\"login\", false);\n        return new Promise<any>((resolve, reject) => {\n            this.connectApp().then(() => {\n                this.lib.forgotten = true;\n                this.lib.forgetIdentity()\n                    .then( (err)  => {\n                        console.log(\"disconnect\", err);\n                        this.resetIdentity();\n                        this.feed.setLoading(\"login\", false);\n                        resolve(\"logout\");\n                    })\n                    .catch(reject);\n            }).catch(reject);    \n        });\n    }\n\n    get logged(): boolean {\n        if (!this.lib) return false;\n        return !!this.lib.identity;\n    }\n\n    get username(): string {\n        if (!this.lib) return \"\";\n        return this.lib.identity ? this.lib.identity.name : \"\";\n    }\n\n    get authorization(): any {\n        if (!this.account)  {\n            console.error(\"ScatterService.authorization()\");\n            return { authorization:[\"unknown@unknown\"] }\n        }\n        return {\n            authorization:[`${this.account.name}@${this.account.authority}`]\n        };\n    }\n\n    get connected(): boolean {\n        return this._connected;\n    }\n\n    getTableRows(contract, scope, table, tkey, lowerb, upperb, limit, ktype, ipos): Promise<any> {\n        /*\n        // console.log(\"ScatterService.getTableRows()\");\n        // https://github.com/EOSIO/eosjs-api/blob/master/docs/api.md#eos.getTableRows\n        return new Promise<any>((resolve, reject) => {\n            this.waitEosjs.then(() => {\n                var json = {\n                    code: contract,\n                    index_position: ipos,\n                    json: true,\n                    key_type: ktype,\n                    limit: limit,\n                    lower_bound: lowerb,\n                    scope: scope,\n                    table: table,\n                    table_key: tkey,\n                    upper_bound: upperb\n                }\n                \n                this.rpc.get_table_rows(json).then(_data => {\n                    resolve(_data);\n                }).catch(error => {\n                    console.error(error);\n                });\n\n                \n            }).catch((error) => {\n                console.error(error);\n                reject(error);\n            });   \n        });\n        /*/\n        // console.log(\"ScatterService.getTableRows()\");\n        // https://github.com/EOSIO/eosjs-api/blob/master/docs/api.md#eos.getTableRows\n        return new Promise<any>((resolve, reject) => {\n            this.waitEosjs.then(() => {\n                this.eos.getTableRows(true, contract, scope, table, tkey, lowerb, upperb, limit, ktype, ipos).then(function (_data) {\n                    resolve(_data);\n                }).catch(error => {\n                    console.error(error);\n                });\n            }).catch((error) => {\n                console.error(error);\n                reject(error);\n            });   \n        });\n        //*/\n\n    }\n\n}\n","import { NgModule } from '@angular/core';\nimport { VapaeeScatter } from './scatter.service';\n\n@NgModule({\n  imports: [\n  ],\n  declarations: [],\n  providers: [VapaeeScatter],\n  exports: []\n})\nexport class VapaeeScatterModule { }\n"],"names":["Long.fromString","tslib_1.__values","Subject","Feedback","Injectable","NgModule"],"mappings":"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"}
